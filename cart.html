<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ö–æ—Ä–∑–∏–Ω–∞ ‚Äî BB Kitty Zhanaarka</title>
<link rel="icon" href="favicon.ico">
<style>
  .header {
  background: linear-gradient(90deg, #ff80ab, #29b6f6);
  color: #fff;
  padding: 20px 16px;
  text-align: center;
  position: sticky;
  top: 0;
  z-index: 10;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}

.header-inner {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

.cart-icon {
  font-size: 32px;
}

.header-text h1 {
  margin: 0;
  font-size: 24px;
  font-weight: 700;
  letter-spacing: 0.5px;
}

.header-text p {
  margin: 0;
  font-size: 14px;
  opacity: 0.9;
}
body {
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
  background: linear-gradient(180deg,#ffdfe6,#dff4ff);
  color: #222;
}

.container {
  max-width: 960px;
  margin: 20px auto;
  background: #fff;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}
.table {
  width: 100%;
  border-collapse: collapse;
}
.table th {
  background: #ff80ab;
  color: #fff;
  padding: 10px;
  text-align: left;
  font-size: 14px;
}
.table td {
  padding: 10px;
  border-bottom: 1px solid #eee;
  vertical-align: middle;
}
.qty-controls {
  display: flex;
  align-items: center;
  gap: 6px;
}
.qty-btn {
  background: #ff80ab;
  color: #fff;
  border: none;
  padding: 4px 10px;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}
.qty-btn:hover { background: #ff5e9f; }
.card-img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 6px;
}
.btn-order {
  background: linear-gradient(90deg,#29b6f6,#ff80ab);
  color: #fff;
  padding: 12px 16px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  font-weight: 700;
  width: 100%;
  margin-top: 12px;
  font-size: 16px;
}
.btn-order:hover { opacity: 0.9; }
.back {
  display: inline-block;
  margin-top: 12px;
  text-decoration: none;
  color: #555;
}
input, textarea {
  width: 100%;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 14px;
}
@media(max-width:600px){
  .card-img{width:50px;height:50px;}
  th,td{font-size:13px;}
  .btn-order{font-size:15px;}
}
</style>
</head>
<body>
<header class="header">
  <div class="header-inner">
    <span class="cart-icon">üõí</span>
    <div class="header-text">
      <h1>–ö–æ—Ä–∑–∏–Ω–∞</h1>
      <p>–ú–∞–≥–∞–∑–∏–Ω <strong>BB Kitty Zhanaarka</strong></p>
    </div>
  </div>
</header>

<main class="container">
  <table class="table" id="cartTable">
    <thead>
      <tr>
        <th>–¢–æ–≤–∞—Ä</th>
        <th>–¶–µ–Ω–∞</th>
        <th>–ö–æ–ª-–≤–æ</th>
        <th>–°—É–º–º–∞</th>
        <th></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div style="text-align:right;margin-top:12px">
    <strong id="total">–ò—Ç–æ–≥–æ: 0 ‚Ç∏</strong>
  </div>

  <h3 style="margin-top:20px;">–î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–∫–∞–∑–∞</h3>
  <form id="orderForm">
    <label>–ò–º—è:</label><br>
    <input type="text" id="customerName" placeholder="–í–∞—à–µ –∏–º—è" required><br><br>

    <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label><br>
    <input type="tel" id="customerPhone" placeholder="8 701 ..." required><br><br>

    <label>–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</label><br>
    <textarea id="customerAddress" rows="3" placeholder="–≥. –ñ–∞–Ω–∞–∞—Ä–∫–∞, —É–ª. ..." required></textarea><br><br>
  </form>

  <button class="btn-order" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ WhatsApp</button>
  <a class="back" href="index.html">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
</main>

<footer style="text-align:center;color:#666;padding:12px">¬© 2025 BB Kitty Zhanaarka</footer>

<script>
function render(){
  const tbody = document.querySelector('#cartTable tbody');
  const cart = JSON.parse(localStorage.getItem('cart')||'[]');
  tbody.innerHTML = '';
  let total = 0;

  cart.forEach((it, idx) => {
    const sum = it.price * it.qty;
    total += sum;
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${it.name}</td>
      <td>${it.price} ‚Ç∏</td>
      <td>
        <div class="qty-controls">
          <button class="qty-btn" onclick="changeQty(${idx}, -1)">‚àí</button>
          <span>${it.qty}</span>
          <button class="qty-btn" onclick="changeQty(${idx}, 1)">+</button>
        </div>
      </td>
      <td>${sum} ‚Ç∏</td>
      <td><button onclick="removeItem(${idx})">üóë</button></td>
    `;
    tbody.appendChild(tr);
  });
  let discountPercent = 0;

// —à–∫–∞–ª–∞ —Å–∫–∏–¥–æ–∫
if (total >= 20000) discountPercent = 5;
else if (total >= 10000) discountPercent = 3;

let discountAmount = Math.floor(total * (discountPercent / 100));
let totalWithDiscount = total - discountAmount;

// –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
document.getElementById('total').innerHTML = `
  –°—É–º–º–∞: ${total} ‚Ç∏ <br>
  –°–∫–∏–¥–∫–∞: ${discountPercent}% (‚àí${discountAmount} ‚Ç∏) <br>
  <strong>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: ${totalWithDiscount} ‚Ç∏</strong>
`;

}

function changeQty(index, delta){
  let cart = JSON.parse(localStorage.getItem('cart')||'[]');
  cart[index].qty += delta;
  if(cart[index].qty < 1) cart[index].qty = 1;
  localStorage.setItem('cart', JSON.stringify(cart));
  render();
}

function removeItem(idx){
  let cart = JSON.parse(localStorage.getItem('cart')||'[]');
  cart.splice(idx,1);
  localStorage.setItem('cart', JSON.stringify(cart));
  render();
}

function checkout(){
  const cart = JSON.parse(localStorage.getItem('cart')||'[]');
  if(cart.length === 0){ alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞'); return; }

  const name = document.getElementById('customerName').value.trim();
  const phone = document.getElementById('customerPhone').value.trim();
  const address = document.getElementById('customerAddress').value.trim();

  if(!name || !phone || !address){
    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
    return;
  }

  let message = 'üõç *–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ —Å–∞–π—Ç BB Kitty Zhanaarka*%0A';
  message += 'üë§ –ò–º—è: ' + name + '%0A';
  message += 'üìû –¢–µ–ª–µ—Ñ–æ–Ω: ' + phone + '%0A';
  message += 'üìç –ê–¥—Ä–µ—Å: ' + address + '%0A%0A';
  message += 'üßæ –¢–æ–≤–∞—Ä—ã:%0A';

  cart.forEach(item => {
    message += '- ' + item.name + ' ‚Äî ' + item.price + ' ‚Ç∏ √ó ' + item.qty + '%0A';
  });

  const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
  let discountPercent = 0;
if (total >= 20000) discountPercent = 5;
else if (total >= 10000) discountPercent = 3;

let discountAmount = Math.floor(total * (discountPercent / 100));
let totalWithDiscount = total - discountAmount;

message += '%0Aüí∞ –°—É–º–º–∞: ' + total + ' ‚Ç∏';
message += '%0Aüîª –°–∫–∏–¥–∫–∞: ' + discountPercent + '% (' + discountAmount + ' ‚Ç∏)';
message += '%0Aüíµ –ö –æ–ø–ª–∞—Ç–µ: ' + totalWithDiscount + ' ‚Ç∏';


  window.open('https://wa.me/77479613129?text=' + message, '_blank');
}

render();
</script>
</body>
</html>
