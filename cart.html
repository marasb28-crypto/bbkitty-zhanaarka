<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ö–æ—Ä–∑–∏–Ω–∞ ‚Äî BB Kitty Zhanaarka</title>
<link rel="icon" href="favicon.ico">
<style>
body{
  font-family:Arial,Helvetica,sans-serif;
  margin:0;
  background:linear-gradient(180deg,#ffdfe6,#dff4ff);
  color:#222;
}
.header{
  padding:18px;
  text-align:center;
}
.container{
  max-width:960px;
  margin:20px auto;
  background:#fff;
  padding:16px;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,0.06);
}
.table{
  width:100%;
  border-collapse:collapse;
}
.table th{
  background:#ff80ab;
  color:#fff;
  padding:10px;
  text-align:left;
}
.table td{
  padding:10px;
  border-bottom:1px solid #eee;
}
.qty{width:80px}
.btn-order{
  background:linear-gradient(90deg,#29b6f6,#ff80ab);
  color:#fff;
  padding:12px 18px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:700;
  transition:0.3s;
}
.btn-order:hover{opacity:0.9}
.back{
  display:inline-block;
  margin-top:12px;
  text-decoration:none;
  color:#555;
}
.card-img{
  width:80px;
  height:60px;
  object-fit:cover;
  border-radius:6px;
}
input, textarea{
  width:100%;
  padding:10px;
  font-size:16px;
  border-radius:8px;
  border:1px solid #ccc;
  margin-bottom:10px;
}
@media(max-width:600px){
  .table thead{display:none;}
  .table, .table tbody, .table tr, .table td{
    display:block;
    width:100%;
  }
  .table tr{
    margin-bottom:15px;
    border:1px solid #eee;
    border-radius:10px;
    padding:10px;
  }
  .table td{
    border:none;
    padding:6px 10px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .table td::before{
    content:attr(data-label);
    font-weight:bold;
    color:#555;
  }
  input[type="number"]{
    width:60px;
    padding:4px;
  }
  .btn-order{
    width:100%;
    font-size:16px;
    padding:14px;
  }
}
</style>
</head>
<body>
<header class="header"><h1>–ö–æ—Ä–∑–∏–Ω–∞ ‚Äî BB Kitty Zhanaarka</h1></header>

<main class="container">
  <table class="table" id="cartTable">
    <thead>
      <tr><th>–¢–æ–≤–∞—Ä</th><th>–¶–µ–Ω–∞</th><th>–ö–æ–ª-–≤–æ</th><th>–°—É–º–º–∞</th><th></th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <div style="text-align:right;margin-top:12px">
    <strong id="total">–ò—Ç–æ–≥–æ: 0 ‚Ç∏</strong>
  </div>

  <div style="margin-top:20px">
    <h3>–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–∫–∞–∑–∞:</h3>
    <form id="orderForm">
      <label>–ò–º—è:</label>
      <input type="text" id="customerName" placeholder="–í–∞—à–µ –∏–º—è" required>

      <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
      <input type="tel" id="customerPhone" placeholder="+7 701 ..." required>

      <label>–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
      <textarea id="customerAddress" rows="3" placeholder="–≥. –£–ª—ã—Ç–∞—É, –ø. –ñ–∞–Ω–∞–∞—Ä–∫–∞, —É–ª. ..." required></textarea>
    </form>

    <button class="btn-order" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ WhatsApp</button>
    <a class="back" href="index.html">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
  </div>
</main>

<footer style="text-align:center;color:#666;padding:12px">
  ¬© 2025 BB Kitty Zhanaarka
</footer>

<script>
function render(){
  const tbody = document.querySelector('#cartTable tbody');
  let cart = JSON.parse(localStorage.getItem('cart')||'[]');
  tbody.innerHTML = '';
  let total = 0;
  cart.forEach((it, idx)=>{
    const sum = it.price * it.qty;
    total += sum;
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td data-label="–¢–æ–≤–∞—Ä"><strong>${it.name}</strong></td>
      <td data-label="–¶–µ–Ω–∞">${it.price} ‚Ç∏</td>
      <td data-label="–ö–æ–ª-–≤–æ"><input type="number" min="1" value="${it.qty}" onchange="update(${idx}, this.value)"></td>
      <td data-label="–°—É–º–º–∞">${sum} ‚Ç∏</td>
      <td data-label="–î–µ–π—Å—Ç–≤–∏–µ"><button onclick="removeItem(${idx})">–£–¥–∞–ª–∏—Ç—å</button></td>
    `;
    tbody.appendChild(tr);
  });
  document.getElementById('total').textContent = '–ò—Ç–æ–≥–æ: ' + total + ' ‚Ç∏';
}

function update(idx, val){
  let cart = JSON.parse(localStorage.getItem('cart')||'[]');
  cart[idx].qty = parseInt(val) || 1;
  localStorage.setItem('cart', JSON.stringify(cart));
  render();
}
function removeItem(idx){
  let cart = JSON.parse(localStorage.getItem('cart')||'[]');
  cart.splice(idx,1);
  localStorage.setItem('cart', JSON.stringify(cart));
  render();
}
function checkout() {
  const name = document.getElementById('customerName').value;
  const phone = document.getElementById('customerPhone').value;
  const address = document.getElementById('customerAddress').value;

  let cart = JSON.parse(localStorage.getItem('cart') || '[]');
  if(cart.length === 0){ alert('–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞'); return; }

  let message = 'üõç *–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ —Å–∞–π—Ç BB Kitty Zhanaarka*%0A';
  message += 'üë§ –ò–º—è: ' + name + '%0A';
  message += 'üìû –¢–µ–ª–µ—Ñ–æ–Ω: ' + phone + '%0A';
  message += 'üìç –ê–¥—Ä–µ—Å: ' + address + '%0A%0A';
  message += 'üßæ –¢–æ–≤–∞—Ä—ã:%0A';

  cart.forEach(item => {
    message += '- ' + item.name + ' ‚Äî ' + item.price + ' ‚Ç∏ x ' + item.qty + '%0A';
  });

  const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
  message += '%0Aüí∞ –ò—Ç–æ–≥–æ: ' + total + ' ‚Ç∏';

  window.open('https://wa.me/77019962042?text=' + message, '_blank');
}
render();
</script>
</body>
</html>
